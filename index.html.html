<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shiny Rock Miner</title>
    <style>
        /* Your existing styles here */
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            background-image: url('https://i.ytimg.com/vi/ZqFwlWu4MLk/maxresdefault.jpg?sqp=-oaymwEmCIAKENAF8quKqQMa8AEB-AH-CYAC0AWKAgwIABABGEkgGSh_MA8=&rs=AOn4CLBZHi7uK08SYl6uVgE-mDragz0Hhg');
            background-size: cover;
            background-position: center;
        }
        #sidebar {
            width: 350px;
            background-color: rgba(0, 123, 255, 0.8);
            color: white;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);
        }
        #main {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
        }
        #rock { width: 500px; cursor: pointer; }
        #message { color: red; font-weight: bold; margin-top: 20px; display: none; }
        h1 { color: purple; }
        button {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            margin: 5px 0;
            cursor: pointer;
        }

        /* Style for save button in bottom-right corner */
        #saveButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px;
            background-color: rgba(0, 123, 255, 0.8);
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }

    </style>
</head>
<body>
    <div id="sidebar">
        <h2>Shiny Rocks: <span id="rockCount">0</span></h2>
        <button id="upgradeButton">Upgrade Click (Cost: 10 shiny rocks) - Upgrades: <span id="upgradeCount">0</span></button>
        <button id="autoClickerButton">Buy Auto Miner (Cost: 50 shiny rocks) - Auto Miners: <span id="autoMinerCount">0</span></button>
        <button id="minigameButton">Play a Minigame (Cost: 100 shiny rocks) - Minigames: <span id="minigameCount">0</span></button>
        <button id="playGameButton">Playing the Game (Cost: 200 shiny rocks) - Games: <span id="playGameCount">0</span></button>
        <div id="message"></div>
    </div>

    <div id="main">
        <h1>Shiny Rock Miner</h1>
        <h2>Shiny Rocks: <span id="rockCountAbove">0</span></h2>
        <img id="rock" src="http://clipart-library.com/newhp/crystal-drawing-mineral-quartz-amethyst-crystal.jpg" alt="Shiny Rock">
        <h3>Auto Miner Output: <span id="autoClickerOutput">0</span> shiny rocks per second</h3>
    </div>

    <!-- Save Button in Bottom Right -->
    <button id="saveButton">Save Progress</button>

    <script>
        // Game state variables
        let rockCount = 0;
        let upgradeCost = 10;
        let autoMinerCost = 50; 
        let minigameCost = 100;
        let playGameCost = 200;
        let clickValue = 1;
        let autoMinerValue = 0; 
        let autoMinerActive = false;
        let minigameActive = false;
        let playGameActive = false;

        // Upgrade counters
        let upgradeCount = 0;
        let autoMinerCount = 0;
        let minigameCount = 0;
        let playGameCount = 0;

        // Load saved progress from localStorage
        function loadProgress() {
            const savedData = JSON.parse(localStorage.getItem('shinyRockMinerData'));
            if (savedData) {
                rockCount = savedData.rockCount || 0;
                upgradeCost = savedData.upgradeCost || 10;
                autoMinerCost = savedData.autoMinerCost || 50;
                minigameCost = savedData.minigameCost || 100;
                playGameCost = savedData.playGameCost || 200;
                clickValue = savedData.clickValue || 1;
                autoMinerValue = savedData.autoMinerValue || 0;
                upgradeCount = savedData.upgradeCount || 0;
                autoMinerCount = savedData.autoMinerCount || 0;
                minigameCount = savedData.minigameCount || 0;
                playGameCount = savedData.playGameCount || 0;
                autoMinerActive = savedData.autoMinerActive || false;
                updateRockCount();
                document.getElementById("upgradeButton").innerText = `Upgrade Click (Cost: ${upgradeCost} shiny rocks) - Upgrades: ${upgradeCount}`;
                document.getElementById("autoClickerButton").innerText = `Buy Auto Miner (Cost: ${autoMinerCost} shiny rocks) - Auto Miners: ${autoMinerCount}`;
                document.getElementById("minigameButton").innerText = `Play a Minigame (Cost: ${minigameCost} shiny rocks) - Minigames: ${minigameCount}`;
                document.getElementById("playGameButton").innerText = `Playing the Game (Cost: ${playGameCost} shiny rocks) - Games: ${playGameCount}`;
            }
        }

        // Save progress to localStorage
        function saveProgress() {
            const gameState = {
                rockCount,
                upgradeCost,
                autoMinerCost,
                minigameCost,
                playGameCost,
                clickValue,
                autoMinerValue,
                upgradeCount,
                autoMinerCount,
                minigameCount,
                playGameCount,
                autoMinerActive,
            };
            localStorage.setItem('shinyRockMinerData', JSON.stringify(gameState));
            showMessage('Progress saved!');
        }

        // Function to update rock count display
        function updateRockCount() {
            document.getElementById("rockCount").innerText = rockCount;
            document.getElementById("rockCountAbove").innerText = rockCount;
        }

        // Function to display messages
        function showMessage(message) {
            const messageDiv = document.getElementById("message");
            messageDiv.innerText = message;
            messageDiv.style.display = "block";
            setTimeout(() => {
                messageDiv.style.display = "none";
            }, 3000); 
        }

        // Add event listeners for buttons
        document.getElementById("rock").addEventListener("click", () => {
            rockCount += clickValue;
            updateRockCount();
        });

        document.getElementById("upgradeButton").addEventListener("click", () => {
            if (rockCount >= upgradeCost) {
                rockCount -= upgradeCost;
                clickValue += 1;
                upgradeCost = Math.floor(upgradeCost * 1.3);
                upgradeCount++;
                updateRockCount();
                document.getElementById("upgradeButton").innerText = `Upgrade Click (Cost: ${upgradeCost} shiny rocks) - Upgrades: ${upgradeCount}`;
                saveProgress();
            } else {
                showMessage("Not enough shiny rocks!");
            }
        });

        document.getElementById("autoClickerButton").addEventListener("click", () => {
            if (rockCount >= autoMinerCost) {
                rockCount -= autoMinerCost;
                autoMinerValue += 1;
                autoMinerCount++;
                autoMinerCost = Math.floor(autoMinerCost * 1.3);
                updateRockCount();
                document.getElementById("autoClickerOutput").innerText = autoMinerValue;
                document.getElementById("autoClickerButton").innerText = `Buy Auto Miner (Cost: ${autoMinerCost} shiny rocks) - Auto Miners: ${autoMinerCount}`;
                if (!autoMinerActive) {
                    autoMinerActive = true;
                    setInterval(() => {
                        rockCount += autoMinerValue;
                        updateRockCount();
                    }, 1000);
                }
                saveProgress();
            } else {
                showMessage("Not enough shiny rocks!");
            }
        });

        // Save progress button
        document.getElementById("saveButton").addEventListener("click", saveProgress);

        // Auto-save progress every 10 seconds
        setInterval(saveProgress, 10000);

        // Load progress on page load
        window.onload = loadProgress;
    </script>
</body>
</html>
